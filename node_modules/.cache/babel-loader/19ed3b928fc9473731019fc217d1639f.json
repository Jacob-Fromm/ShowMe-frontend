{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/jsfromm/Flatiron/code/mod5/project/ShowMe-frontend/src/App.js\";\nimport logo from \"./logo.svg\";\nimport 'fontsource-roboto';\nimport { Typography } from '@material-ui/core';\nimport './App.css';\nimport React, { Component } from \"react\";\nimport { BrowserRouter as Router, Switch, Route, Link, Redirect, withRouter } from \"react-router-dom\";\nimport Welcome from \"./Components/Welcome\";\nimport SignupComedian from './Components/SignupComedian';\nimport ComedianProfile from './Components/ComedianProfile';\nimport ComediansContainer from \"./Containers/ComediansContainer\";\n\nclass App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      currentUser: {},\n      isComedianLoggedIn: false,\n      api: []\n    };\n\n    this.componentDidMount = () => {\n      fetch(\"http://localhost:3000/api/v1/comedians\").then(response => response.json()).then(data => this.setState({\n        api: data\n      }));\n    };\n\n    this.comedianSignupSubmitHandler = newUser => {\n      console.log(\"new user in app.js\", newUser);\n      fetch(\"http://localhost:3000/api/v1/comedians\", {\n        method: \"POST\",\n        headers: {\n          \"content-type\": \"application/json\",\n          \"accept\": \"application/json\"\n        },\n        body: JSON.stringify({\n          comedian: {\n            name: newUser.name,\n            email: newUser.email,\n            password: newUser.password,\n            personal_website: newUser.website,\n            city: newUser.city\n          }\n        })\n      }).then(r => r.json()).then(user => {\n        this.setState({\n          currentUser: user,\n          isComedianLoggedIn: true\n        });\n      });\n    };\n  }\n\n  render() {\n    console.log(\"state in app\", this.state.api);\n\n    if (this.state.isComedianLoggedIn) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/comedian_profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 12\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(Switch, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/\",\n        render: () => /*#__PURE__*/_jsxDEV(Welcome, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 43\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/signup\",\n        render: () => /*#__PURE__*/_jsxDEV(SignupComedian, {\n          signupHandler: this.comedianSignupSubmitHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 43\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/comedians\",\n        render: () => /*#__PURE__*/_jsxDEV(ComediansContainer, {\n          api: this.state.api\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 52\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/comedian_profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 5\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(App);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/Users/jsfromm/Flatiron/code/mod5/project/ShowMe-frontend/src/App.js"],"names":["Typography","React","Component","BrowserRouter","Router","Switch","Route","Link","Redirect","withRouter","Welcome","SignupComedian","ComedianProfile","ComediansContainer","App","state","currentUser","isComedianLoggedIn","api","componentDidMount","fetch","then","response","json","data","setState","comedianSignupSubmitHandler","newUser","console","log","method","headers","body","JSON","stringify","comedian","name","email","password","personal_website","website","city","r","user","render"],"mappings":";;;AACA,OAAO,mBAAP;AACA,SAASA,UAAT,QAA2B,mBAA3B;AACA,OAAO,WAAP;AACA,OAAOC,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SACEC,aAAa,IAAIC,MADnB,EAEEC,MAFF,EAGEC,KAHF,EAIEC,IAJF,EAKEC,QALF,EAMEC,UANF,QAOO,kBAPP;AAQA,OAAOC,OAAP,MAAoB,sBAApB;AACA,OAAOC,cAAP,MAA2B,6BAA3B;AACA,OAAOC,eAAP,MAA4B,8BAA5B;AACA,OAAOC,kBAAP,MAA+B,iCAA/B;;AAEA,MAAMC,GAAN,SAAkBb,KAAK,CAACC,SAAxB,CAAkC;AAAA;AAAA;AAAA,SAEhCa,KAFgC,GAExB;AACNC,MAAAA,WAAW,EAAE,EADP;AAENC,MAAAA,kBAAkB,EAAE,KAFd;AAGNC,MAAAA,GAAG,EAAE;AAHC,KAFwB;;AAAA,SAQhCC,iBARgC,GAQZ,MAAM;AACxBC,MAAAA,KAAK,CAAC,wCAAD,CAAL,CACGC,IADH,CACQC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADpB,EAEGF,IAFH,CAEQG,IAAI,IAAI,KAAKC,QAAL,CAAc;AAC1BP,QAAAA,GAAG,EAAEM;AADqB,OAAd,CAFhB;AAMD,KAf+B;;AAAA,SAiChCE,2BAjCgC,GAiCDC,OAAD,IAAa;AACzCC,MAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCF,OAAlC;AACAP,MAAAA,KAAK,CAAC,wCAAD,EAA2C;AAC9CU,QAAAA,MAAM,EAAE,MADsC;AAE9CC,QAAAA,OAAO,EAAE;AACP,0BAAgB,kBADT;AAEP,oBAAU;AAFH,SAFqC;AAM9CC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBC,UAAAA,QAAQ,EAAE;AACRC,YAAAA,IAAI,EAAET,OAAO,CAACS,IADN;AAERC,YAAAA,KAAK,EAAEV,OAAO,CAACU,KAFP;AAGRC,YAAAA,QAAQ,EAAEX,OAAO,CAACW,QAHV;AAIRC,YAAAA,gBAAgB,EAAEZ,OAAO,CAACa,OAJlB;AAKRC,YAAAA,IAAI,EAAEd,OAAO,CAACc;AALN;AADS,SAAf;AANwC,OAA3C,CAAL,CAgBGpB,IAhBH,CAgBQqB,CAAC,IAAIA,CAAC,CAACnB,IAAF,EAhBb,EAiBGF,IAjBH,CAiBQsB,IAAI,IAAI;AACZ,aAAKlB,QAAL,CAAc;AAAET,UAAAA,WAAW,EAAE2B,IAAf;AAAqB1B,UAAAA,kBAAkB,EAAE;AAAzC,SAAd;AACD,OAnBH;AAoBD,KAvD+B;AAAA;;AAyDlC2B,EAAAA,MAAM,GAAE;AACNhB,IAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4B,KAAKd,KAAL,CAAWG,GAAvC;;AACA,QAAI,KAAKH,KAAL,CAAWE,kBAAf,EAAmC;AACjC,0BAAO,QAAC,QAAD;AAAU,QAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,cAAP;AACD;;AACD,wBACE,QAAC,MAAD;AAAA,8BACE,QAAC,KAAD;AAAO,QAAA,KAAK,MAAZ;AAAa,QAAA,IAAI,EAAC,GAAlB;AAAsB,QAAA,MAAM,EAAE,mBAAM,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAApC;AAAA;AAAA;AAAA;AAAA,cADF,eAGE,QAAC,KAAD;AAAO,QAAA,IAAI,EAAC,SAAZ;AAAsB,QAAA,MAAM,EAAE,mBAAM,QAAC,cAAD;AAAgB,UAAA,aAAa,EAAE,KAAKS;AAApC;AAAA;AAAA;AAAA;AAAA;AAApC;AAAA;AAAA;AAAA;AAAA,cAHF,eAME,QAAC,KAAD;AAAO,QAAA,KAAK,MAAZ;AAAa,QAAA,IAAI,EAAC,YAAlB;AAA+B,QAAA,MAAM,EAAE,mBAAM,QAAC,kBAAD;AAAoB,UAAA,GAAG,EAAE,KAAKX,KAAL,CAAWG;AAApC;AAAA;AAAA;AAAA;AAAA;AAA7C;AAAA;AAAA;AAAA;AAAA,cANF,eASE,QAAC,KAAD;AAAO,QAAA,IAAI,EAAC;AAAZ;AAAA;AAAA;AAAA;AAAA,cATF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAeD;;AA7EiC;;AAiFlC,oBAAeT,UAAU,CAACK,GAAD,CAAzB","sourcesContent":["import logo from './logo.svg';\nimport 'fontsource-roboto';\nimport { Typography } from '@material-ui/core';\nimport './App.css';\nimport React, {Component} from \"react\"\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link,\n  Redirect,\n  withRouter\n} from \"react-router-dom\"; \nimport Welcome from \"./Components/Welcome\"\nimport SignupComedian from './Components/SignupComedian';\nimport ComedianProfile from './Components/ComedianProfile';\nimport ComediansContainer from \"./Containers/ComediansContainer\"\n\nclass App extends React.Component {\n\n  state = {\n    currentUser: {},\n    isComedianLoggedIn: false,\n    api: []\n  }\n\n  componentDidMount = () => {\n    fetch(\"http://localhost:3000/api/v1/comedians\")\n      .then(response => response.json())\n      .then(data => this.setState({\n        api: data\n      }))\n       \n  }\n\n  // fetch('http://localhost:3000/api/v1/fans', {\n  //   method: 'POST',\n  //   headers: {\n  //     'Content-Type': 'application/json',\n  //     Accept: 'application/json'\n  //   },\n  //   body: JSON.stringify({\n  //     fan: {\n  //       name: \"sean padden\",\n  //       email: \"seanp@gmail.com\",\n  //       password: \"sean\",\n  //     }\n  //   })\n  // })\n  //   .then(r => r.json())\n  //   .then(console.log)\n  comedianSignupSubmitHandler = (newUser) => {\n    console.log(\"new user in app.js\", newUser)\n    fetch(\"http://localhost:3000/api/v1/comedians\", {\n      method: \"POST\",\n      headers: {\n        \"content-type\": \"application/json\",\n        \"accept\": \"application/json\"\n      },\n      body: JSON.stringify({\n        comedian: {\n          name: newUser.name,\n          email: newUser.email,\n          password: newUser.password,\n          personal_website: newUser.website,\n          city: newUser.city\n        }\n      })\n    })\n      .then(r => r.json())\n      .then(user => {\n        this.setState({ currentUser: user, isComedianLoggedIn: true })\n      })\n  }\n  \nrender(){\n  console.log(\"state in app\", this.state.api)\n  if (this.state.isComedianLoggedIn) {\n    return <Redirect to=\"/comedian_profile\" />\n  }\n  return (\n    <Switch>\n      <Route exact path=\"/\" render={() => <Welcome /> } />\n       \n      <Route path=\"/signup\" render={() => <SignupComedian signupHandler={this.comedianSignupSubmitHandler} />}/>\n       \n      \n      <Route exact path=\"/comedians\" render={() => <ComediansContainer api={this.state.api} /> } />\n       \n      \n      <Route path=\"/comedian_profile\" />\n       \n    </Switch>\n\n  );\n}\n  \n}\n\nexport default withRouter(App)\n"]},"metadata":{},"sourceType":"module"}